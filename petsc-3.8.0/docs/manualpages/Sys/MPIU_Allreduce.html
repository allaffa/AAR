<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Sys/MPIU_Allreduce.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<TITLE>MPIU_Allreduce</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>petsc-3.8.0 2017-09-26</b></div>
   <div id="bugreport" align=right><a href="mailto:petsc-maint@mcs.anl.gov?subject=Typo or Error in Documentation &body=Please describe the typo or error in the documentation: petsc-3.8.0 v3.8 docs/manualpages/Sys/MPIU_Allreduce.html "><small>Report Typos and Errors</small></a></div>
<A NAME="MPIU_Allreduce"><H1>MPIU_Allreduce</H1></A>
a PETSc replacement for MPI_Allreduce() that tries to determine if the call from all the MPI processes occur from the same place in the PETSc code. This helps to detect bugs where different MPI processes follow different code paths resulting in inconsistent and incorrect calls to MPI_Allreduce(). Collective on <A HREF="../Sys/MPI_Comm.html#MPI_Comm">MPI_Comm</A>
<P>
<H3><FONT COLOR="#CC3333">Synopsis</FONT></H3>
<PRE>
#include &lt;petscsys.h&gt;
<A HREF="../Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</A> <A HREF="../Sys/MPIU_Allreduce.html#MPIU_Allreduce">MPIU_Allreduce</A>(void *indata,void *outdata,<A HREF="../Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</A> count,MPI_Datatype datatype, MPI_Op op, <A HREF="../Sys/MPI_Comm.html#MPI_Comm">MPI_Comm</A> comm);
</PRE>
<H3><FONT COLOR="#CC3333">Input Parameters</FONT></H3>
<TABLE border="0" cellpadding="0" cellspacing="0">
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>indata </B></TD><TD>- pointer to the input data to be reduced
</TD></TR>
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>count </B></TD><TD>- the number of MPI data items in indata and outdata
</TD></TR>
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>datatype </B></TD><TD>- the MPI datatype, for example MPI_INT
</TD></TR>
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>op </B></TD><TD>- the MPI operation, for example MPI_SUM
</TD></TR>
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>comm </B></TD><TD>- the MPI communicator on which the operation occurs
</TD></TR></TABLE>
<P>
<H3><FONT COLOR="#CC3333">Output Parameter</FONT></H3>
<DT><B>outdata </B> -the reduced values
<br>
<P>
Notes: In optimized mode this directly calls MPI_Allreduce()
<P>

<P>
<H3><FONT COLOR="#CC3333">See Also</FONT></H3>
 MPI_Allreduce()
<BR><P><B><P><B><FONT COLOR="#CC3333">Level:</FONT></B>developer
<BR><FONT COLOR="#CC3333">Location:</FONT></B><A HREF="../../../include/petscsys.h.html#MPIU_Allreduce">include/petscsys.h</A>
<BR><A HREF="./index.html">Index of all Sys routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
</BODY></HTML>
